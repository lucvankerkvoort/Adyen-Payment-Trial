{"version":3,"sources":["app/paymentSlice.js","features/customer/CustomerForm.js","features/payment/Payment.js","features/preview/Preview.js","features/status/Status.js","App.js","app/store.js","index.js"],"names":["slice","createSlice","name","initialState","error","paymentMethodsRes","paymentRes","paymentDetailsRes","config","paymentMethodsConfiguration","ideal","showImage","card","hasHolderName","holderNameRequired","amount","value","currency","locale","showPayButton","billingAddress","enableBilling","firstName","lastName","houseNumberOrName","street","city","stateOrProvince","postalCode","country","reducers","setBilling","state","action","payload","paymentMethods","res","filter","it","includes","type","payments","paymentDetails","actions","CustomerForm","dispatch","useDispatch","useSelector","payment","handleChange","event","target","checked","className","onChange","method","htmlFor","placeholder","disabled","Payment","useParams","id","ConnectedCheckoutContainer","CheckoutContainer","props","paymentContainer","React","createRef","paymentComponent","onSubmit","bind","onAdditionalDetails","processPaymentResponse","this","getAdyenConfig","getPaymentMethods","prevProps","paymentMethodsResponse","window","location","href","checkout","AdyenCheckout","create","mount","current","handleAction","resultCode","component","isValid","initiatePayment","data","origin","submitAdditionalDetails","ref","Component","mapDispatchToProps","a","fetch","response","json","status","body","JSON","stringify","headers","connect","Preview","to","Message","msg","img","reason","src","alt","Status","query","URLSearchParams","useLocation","search","get","App","path","configureStore","reducer","paymentReducer","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.780e10df.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const slice = createSlice({\r\n  name: \"payment\",\r\n  initialState: {\r\n    error: \"\",\r\n    paymentMethodsRes: null,\r\n    paymentRes: null,\r\n    paymentDetailsRes: null,\r\n    config: {\r\n      paymentMethodsConfiguration: {\r\n        ideal: {\r\n          showImage: true,\r\n        },\r\n        card: {\r\n          hasHolderName: true,\r\n          holderNameRequired: true,\r\n          name: \"Credit or debit card\",\r\n          amount: {\r\n            value: 1000, // 10â‚¬ in minor units\r\n            currency: \"EUR\",\r\n          },\r\n        },\r\n      },\r\n      locale: \"en_NL\",\r\n      showPayButton: true,\r\n    },\r\n    billingAddress: {\r\n      enableBilling: false,\r\n      firstName: \"Joe\",\r\n      lastName: \"Bob\",\r\n      houseNumberOrName: \"274\",\r\n      street: \"Brannan Street\",\r\n      city: \"San Francisco\",\r\n      stateOrProvince: \"California\",\r\n      postalCode: \"94107\",\r\n      country: \"US\",\r\n    },\r\n  },\r\n  reducers: {\r\n    setBilling: (state, action) => {\r\n      state.billingAddress = {\r\n        ...state.billingAddress,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    config: (state, action) => {\r\n      state.config = {\r\n        ...state.config,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    paymentMethods: (state, action) => {\r\n      const [res, status] = action.payload;\r\n      if (status >= 300) {\r\n        state.error = res;\r\n      } else {\r\n        res.paymentMethods = res.paymentMethods.filter((it) =>\r\n          [\"eps\", \"scheme\", \"dotpay\", \"giropay\", \"ideal\", \"directEbanking\", \"bcmc\", \"paysafecard\"].includes(it.type)\r\n        );\r\n        state.paymentMethodsRes = res;\r\n      }\r\n    },\r\n    payments: (state, action) => {\r\n      const [res, status] = action.payload;\r\n      if (status >= 300) {\r\n        state.error = res;\r\n      } else {\r\n        state.paymentRes = res;\r\n      }\r\n    },\r\n    paymentDetails: (state, action) => {\r\n      const [res, status] = action.payload;\r\n      if (status >= 300) {\r\n        state.error = res;\r\n      } else {\r\n        state.paymentDetailsRes = res;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setBilling, config, paymentMethods, payments, paymentDetails } = slice.actions;\r\n\r\nexport const getAdyenConfig = () => async (dispatch) => {\r\n  const response = await fetch(\"/api/config\");\r\n  dispatch(config(await response.json()));\r\n};\r\n\r\nexport const getPaymentMethods = () => async (dispatch) => {\r\n  const response = await fetch(\"/api/getPaymentMethods\", {\r\n    method: \"POST\",\r\n  });\r\n  dispatch(paymentMethods([await response.json(), response.status]));\r\n};\r\n\r\nexport const initiatePayment = (data) => async (dispatch) => {\r\n  const response = await fetch(\"/api/initiatePayment\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  dispatch(payments([await response.json(), response.status]));\r\n};\r\n\r\nexport const submitAdditionalDetails = (data) => async (dispatch) => {\r\n  const response = await fetch(\"/api/submitAdditionalDetails\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  dispatch(paymentDetails([await response.json(), response.status]));\r\n};\r\n\r\nexport default slice.reducer;\r\n","import React from \"react\";\r\nimport { setBilling } from \"../../app/paymentSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport function CustomerForm() {\r\n  const dispatch = useDispatch();\r\n  const billingAddress = useSelector(state => state.payment.billingAddress);\r\n\r\n  const handleChange = event => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = name === \"enableBilling\" ? target.checked : target.value;\r\n\r\n    dispatch(\r\n      setBilling({\r\n        [name]: value\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"customer-form\">\r\n      <div className=\"address\">\r\n        <div className=\"billing-header\">\r\n          <div className=\"billing-header-title\">\r\n            <span className=\"billing-header-radio\">\r\n              <input type=\"checkbox\" checked={billingAddress.enableBilling} name=\"enableBilling\" onChange={handleChange} />\r\n            </span>\r\n            <span className=\"billing-header-title-name\"> Enable Billing Information for 3DS2</span>\r\n          </div>\r\n        </div>\r\n        <form className=\"address-form\" action=\"/destination\" method=\"get\">\r\n          <div className=\"address-line\">\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"firstName\">\r\n                First Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"First Name\"\r\n                name=\"firstName\"\r\n                value={billingAddress.firstName}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"lastName\">\r\n                Last Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Last Name\"\r\n                name=\"lastName\"\r\n                value={billingAddress.lastName}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"address-line\">\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"houseNumberOrName\">\r\n                House number\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"House number\"\r\n                name=\"houseNumberOrName\"\r\n                value={billingAddress.houseNumberOrName}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"street\">\r\n                Street\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Street\"\r\n                name=\"street\"\r\n                value={billingAddress.street}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"address-line\">\r\n            <div className=\"address-input full-width\">\r\n              <label className=\"address-label\" htmlFor=\"city\">\r\n                City\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"City\"\r\n                name=\"city\"\r\n                value={billingAddress.city}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"address-line\">\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"state\">\r\n                State\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"State\"\r\n                name=\"stateOrProvince\"\r\n                value={billingAddress.stateOrProvince}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"zipcode\">\r\n                Zip Code\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Zip Code\"\r\n                name=\"postalCode\"\r\n                value={billingAddress.postalCode}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n            <div className=\"address-input\">\r\n              <label className=\"address-label\" htmlFor=\"country\">\r\n                Country\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Country\"\r\n                name=\"country\"\r\n                value={billingAddress.country}\r\n                onChange={handleChange}\r\n                disabled={!billingAddress.enableBilling}\r\n              />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { CustomerForm } from \"../customer/CustomerForm\";\r\nimport { getAdyenConfig, getPaymentMethods, initiatePayment, submitAdditionalDetails } from \"../../app/paymentSlice\";\r\n\r\nexport function Payment() {\r\n  const { type } = useParams();\r\n  return (\r\n    <div id=\"payment-page\">\r\n      <div className=\"container\">\r\n        <CustomerForm />\r\n        <ConnectedCheckoutContainer type={type} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass CheckoutContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.paymentContainer = React.createRef();\r\n    this.paymentComponent = null;\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onAdditionalDetails = this.onAdditionalDetails.bind(this);\r\n    this.processPaymentResponse = this.processPaymentResponse.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAdyenConfig();\r\n    this.props.getPaymentMethods();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { paymentMethodsRes: paymentMethodsResponse, config, paymentRes, paymentDetailsRes, error } = this.props.payment;\r\n    if (error && error !== prevProps.payment.error) {\r\n      window.location.href = `/status/error?reason=${error}`;\r\n      return;\r\n    }\r\n    if (\r\n      paymentMethodsResponse &&\r\n      config &&\r\n      (paymentMethodsResponse !== prevProps.payment.paymentMethodsRes || config !== prevProps.payment.config)\r\n    ) {\r\n      // @ts-ignore\r\n      // eslint-disable-next-line no-undef\r\n      this.checkout = new AdyenCheckout({\r\n        ...config,\r\n        paymentMethodsResponse,\r\n        onAdditionalDetails: this.onAdditionalDetails,\r\n        onSubmit: this.onSubmit\r\n      });\r\n\r\n      this.checkout.create(this.props.type).mount(this.paymentContainer.current);\r\n    }\r\n    if (paymentRes && paymentRes !== prevProps.payment.paymentRes) {\r\n      this.processPaymentResponse(paymentRes);\r\n    }\r\n    if (paymentRes && paymentDetailsRes !== prevProps.payment.paymentDetailsRes) {\r\n      this.processPaymentResponse(paymentDetailsRes);\r\n    }\r\n  }\r\n\r\n  processPaymentResponse(paymentRes) {\r\n    if (paymentRes.action) {\r\n      this.paymentComponent.handleAction(paymentRes.action);\r\n    } else {\r\n      switch (paymentRes.resultCode) {\r\n        case \"Authorised\":\r\n          window.location.href = \"/status/success\";\r\n          break;\r\n        case \"Pending\":\r\n          window.location.href = \"/status/pending\";\r\n          break;\r\n        case \"Refused\":\r\n          window.location.href = \"/status/failed\";\r\n          break;\r\n        default:\r\n          window.location.href = \"/status/error\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onSubmit(state, component) {\r\n    const { billingAddress } = this.props.payment;\r\n    if (state.isValid) {\r\n      this.props.initiatePayment({\r\n        ...state.data,\r\n        billingAddress: this.props.type === \"card\" && billingAddress.enableBilling ? billingAddress : null,\r\n        origin: window.location.origin\r\n      });\r\n      this.paymentComponent = component;\r\n    }\r\n  }\r\n\r\n  onAdditionalDetails(state, component) {\r\n    this.props.submitAdditionalDetails(state.data);\r\n    this.paymentComponent = component;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"payment-container\">\r\n        <div ref={this.paymentContainer} className=\"payment\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  payment: state.payment\r\n});\r\n\r\nconst mapDispatchToProps = { getAdyenConfig, getPaymentMethods, initiatePayment, submitAdditionalDetails };\r\n\r\nexport const ConnectedCheckoutContainer = connect(mapStateToProps, mapDispatchToProps)(CheckoutContainer);\r\n","import React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nexport function Preview() {\r\n  let { type } = useParams();\r\n\r\n  return (\r\n    <main className=\"preview-page\">\r\n      <section className=\"cart\">\r\n        <h2>Cart</h2>\r\n        <div className=\"order-summary\">\r\n          <ul className=\"order-summary-list\">\r\n            <li className=\"order-summary-list-list-item\">\r\n              <p className=\"order-summary-list-list-item-title\">Premium Account</p>\r\n              <p className=\"order-summary-list-list-item-price\">5.00</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"cart-footer\">\r\n          <span className=\"cart-footer-label\">Total:</span>\r\n          <span className=\"cart-footer-amount\">5.00</span>\r\n          <Link to={`/checkout/${type}`}>\r\n            <p className=\"button\">Continue to checkout</p>\r\n          </Link>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link, useParams, useLocation } from \"react-router-dom\";\r\n\r\nexport const Message = ({ type, reason }) => {\r\n  let msg, img;\r\n  switch (type) {\r\n    case \"pending\":\r\n      msg = <span>Your order has been received! Payment completion pending.</span>;\r\n      img = \"success\";\r\n      break;\r\n    case \"failed\":\r\n      msg = <span>The payment was refused. Please try a different payment method or card.</span>;\r\n      img = \"failed\";\r\n      break;\r\n    case \"error\":\r\n      msg = (\r\n        <span>\r\n          Error! Reason: {reason || \"Internal error\"}, refer to&nbsp;\r\n          <a href=\"https://docs.adyen.com/development-resources/response-handling\">Response handling.</a>\r\n        </span>\r\n      );\r\n      img = \"failed\";\r\n      break;\r\n    default:\r\n      msg = <span>Your order has been successfully placed.</span>;\r\n      img = \"success\";\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={`/images/${img}.svg`} className=\"status-image\" alt={img} />\r\n      {[\"failed\", \"error\"].includes(type) ? null : <img src=\"/images/thank-you.svg\" className=\"status-image\" alt=\"thank-you\" />}\r\n      <p className=\"status-message\">{msg}</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport function Status() {\r\n  let { type } = useParams();\r\n  let query = new URLSearchParams(useLocation().search);\r\n  let reason = query ? query.get(\"reason\") : \"\";\r\n\r\n  return (\r\n    <div className=\"status-container\">\r\n      <div className=\"status\">\r\n        <Message type={type} reason={reason} />\r\n        <Link to=\"/\" className=\"button\">\r\n          Return Home\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { Payment } from \"./features/payment/Payment\";\r\nimport { Preview } from \"./features/preview/Preview\";\r\nimport { Status } from \"./features/status/Status\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/preview/:type\">\r\n          <Preview />\r\n        </Route>\r\n        <Route path=\"/checkout/:type\">\r\n          <Payment />\r\n        </Route>\r\n        <Route path=\"/status/:type\">\r\n          <Status />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <div className=\"main-container\">\r\n            <ul className=\"integration-list\">\r\n              <li className=\"integration-list-item\">\r\n                <Link to=\"/preview/dropin\" className=\"integration-list-item-link\">\r\n                  <div className=\"title-container\">\r\n                    <p className=\"integration-list-item-title\">Premium Acocunt</p>\r\n                  </div>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport paymentReducer from \"./paymentSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    payment: paymentReducer\r\n  }\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./app/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  // @ts-ignore\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}