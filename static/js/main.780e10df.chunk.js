(this["webpackJsonpadyen-react-online-payments"]=this["webpackJsonpadyen-react-online-payments"]||[]).push([[0],{36:function(e,t,a){e.exports=a(55)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),l=a.n(r),i=a(8),c=a(9),o=a(12),m=a(28),d=a(29),u=a(34),p=a(30),y=a(13),h=a(35),b=a(10),f=a(19),E=a(7),g=a.n(E),N=a(15),v=a(21),O=a(20),C=Object(O.b)({name:"payment",initialState:{error:"",paymentMethodsRes:null,paymentRes:null,paymentDetailsRes:null,config:{paymentMethodsConfiguration:{ideal:{showImage:!0},card:{hasHolderName:!0,holderNameRequired:!0,name:"Credit or debit card",amount:{value:1e3,currency:"EUR"}}},locale:"en_NL",showPayButton:!0},billingAddress:{enableBilling:!1,firstName:"Joe",lastName:"Bob",houseNumberOrName:"274",street:"Brannan Street",city:"San Francisco",stateOrProvince:"California",postalCode:"94107",country:"US"}},reducers:{setBilling:function(e,t){e.billingAddress=Object(o.a)({},e.billingAddress,{},t.payload)},config:function(e,t){e.config=Object(o.a)({},e.config,{},t.payload)},paymentMethods:function(e,t){var a=Object(v.a)(t.payload,2),n=a[0];a[1]>=300?e.error=n:(n.paymentMethods=n.paymentMethods.filter((function(e){return["eps","scheme","dotpay","giropay","ideal","directEbanking","bcmc","paysafecard"].includes(e.type)})),e.paymentMethodsRes=n)},payments:function(e,t){var a=Object(v.a)(t.payload,2),n=a[0];a[1]>=300?e.error=n:e.paymentRes=n},paymentDetails:function(e,t){var a=Object(v.a)(t.payload,2),n=a[0];a[1]>=300?e.error=n:e.paymentDetailsRes=n}}}),j=C.actions,w=j.setBilling,k=j.config,R=j.paymentMethods,P=j.payments,x=j.paymentDetails,A=C.reducer;function B(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.payment.billingAddress})),a=function(t){var a=t.target,n=a.name,s="enableBilling"===n?a.checked:a.value;e(w(Object(f.a)({},n,s)))};return s.a.createElement("div",{className:"customer-form"},s.a.createElement("div",{className:"address"},s.a.createElement("div",{className:"billing-header"},s.a.createElement("div",{className:"billing-header-title"},s.a.createElement("span",{className:"billing-header-radio"},s.a.createElement("input",{type:"checkbox",checked:t.enableBilling,name:"enableBilling",onChange:a})),s.a.createElement("span",{className:"billing-header-title-name"}," Enable Billing Information for 3DS2"))),s.a.createElement("form",{className:"address-form",action:"/destination",method:"get"},s.a.createElement("div",{className:"address-line"},s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"firstName"},"First Name"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",name:"firstName",value:t.firstName,onChange:a,disabled:!t.enableBilling})),s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"lastName"},"Last Name"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",name:"lastName",value:t.lastName,onChange:a,disabled:!t.enableBilling}))),s.a.createElement("div",{className:"address-line"},s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"houseNumberOrName"},"House number"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"House number",name:"houseNumberOrName",value:t.houseNumberOrName,onChange:a,disabled:!t.enableBilling})),s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"street"},"Street"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Street",name:"street",value:t.street,onChange:a,disabled:!t.enableBilling}))),s.a.createElement("div",{className:"address-line"},s.a.createElement("div",{className:"address-input full-width"},s.a.createElement("label",{className:"address-label",htmlFor:"city"},"City"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"City",name:"city",value:t.city,onChange:a,disabled:!t.enableBilling}))),s.a.createElement("div",{className:"address-line"},s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"state"},"State"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"State",name:"stateOrProvince",value:t.stateOrProvince,onChange:a,disabled:!t.enableBilling})),s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"zipcode"},"Zip Code"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Zip Code",name:"postalCode",value:t.postalCode,onChange:a,disabled:!t.enableBilling})),s.a.createElement("div",{className:"address-input"},s.a.createElement("label",{className:"address-label",htmlFor:"country"},"Country"),s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Country",name:"country",value:t.country,onChange:a,disabled:!t.enableBilling}))))))}function S(){var e=Object(c.g)().type;return s.a.createElement("div",{id:"payment-page"},s.a.createElement("div",{className:"container"},s.a.createElement(B,null),s.a.createElement(F,{type:e})))}var D=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).paymentContainer=s.a.createRef(),a.paymentComponent=null,a.onSubmit=a.onSubmit.bind(Object(y.a)(a)),a.onAdditionalDetails=a.onAdditionalDetails.bind(Object(y.a)(a)),a.processPaymentResponse=a.processPaymentResponse.bind(Object(y.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getAdyenConfig(),this.props.getPaymentMethods()}},{key:"componentDidUpdate",value:function(e){var t=this.props.payment,a=t.paymentMethodsRes,n=t.config,s=t.paymentRes,r=t.paymentDetailsRes,l=t.error;l&&l!==e.payment.error?window.location.href="/status/error?reason=".concat(l):(a&&n&&(a!==e.payment.paymentMethodsRes||n!==e.payment.config)&&(this.checkout=new AdyenCheckout(Object(o.a)({},n,{paymentMethodsResponse:a,onAdditionalDetails:this.onAdditionalDetails,onSubmit:this.onSubmit})),this.checkout.create(this.props.type).mount(this.paymentContainer.current)),s&&s!==e.payment.paymentRes&&this.processPaymentResponse(s),s&&r!==e.payment.paymentDetailsRes&&this.processPaymentResponse(r))}},{key:"processPaymentResponse",value:function(e){if(e.action)this.paymentComponent.handleAction(e.action);else switch(e.resultCode){case"Authorised":window.location.href="/status/success";break;case"Pending":window.location.href="/status/pending";break;case"Refused":window.location.href="/status/failed";break;default:window.location.href="/status/error"}}},{key:"onSubmit",value:function(e,t){var a=this.props.payment.billingAddress;e.isValid&&(this.props.initiatePayment(Object(o.a)({},e.data,{billingAddress:"card"===this.props.type&&a.enableBilling?a:null,origin:window.location.origin})),this.paymentComponent=t)}},{key:"onAdditionalDetails",value:function(e,t){this.props.submitAdditionalDetails(e.data),this.paymentComponent=t}},{key:"render",value:function(){return s.a.createElement("div",{className:"payment-container"},s.a.createElement("div",{ref:this.paymentContainer,className:"payment"}))}}]),t}(s.a.Component),M={getAdyenConfig:function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/config");case 2:return a=e.sent,e.t0=t,e.t1=k,e.next=7,a.json();case 7:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getPaymentMethods:function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getPaymentMethods",{method:"POST"});case 2:return a=e.sent,e.t0=t,e.t1=R,e.next=7,a.json();case 7:e.t2=e.sent,e.t3=a.status,e.t4=[e.t2,e.t3],e.t5=(0,e.t1)(e.t4),(0,e.t0)(e.t5);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initiatePayment:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/initiatePayment",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.t0=a,t.t1=P,t.next=7,n.json();case 7:t.t2=t.sent,t.t3=n.status,t.t4=[t.t2,t.t3],t.t5=(0,t.t1)(t.t4),(0,t.t0)(t.t5);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},submitAdditionalDetails:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/submitAdditionalDetails",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.t0=a,t.t1=x,t.next=7,n.json();case 7:t.t2=t.sent,t.t3=n.status,t.t4=[t.t2,t.t3],t.t5=(0,t.t1)(t.t4),(0,t.t0)(t.t5);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},F=Object(b.b)((function(e){return{payment:e.payment}}),M)(D);function T(){var e=Object(c.g)().type;return s.a.createElement("main",{className:"preview-page"},s.a.createElement("section",{className:"cart"},s.a.createElement("h2",null,"Cart"),s.a.createElement("div",{className:"order-summary"},s.a.createElement("ul",{className:"order-summary-list"},s.a.createElement("li",{className:"order-summary-list-list-item"},s.a.createElement("p",{className:"order-summary-list-list-item-title"},"Premium Account"),s.a.createElement("p",{className:"order-summary-list-list-item-price"},"5.00")))),s.a.createElement("div",{className:"cart-footer"},s.a.createElement("span",{className:"cart-footer-label"},"Total:"),s.a.createElement("span",{className:"cart-footer-amount"},"5.00"),s.a.createElement(i.b,{to:"/checkout/".concat(e)},s.a.createElement("p",{className:"button"},"Continue to checkout")))))}var J=function(e){var t,a,n=e.type,r=e.reason;switch(n){case"pending":t=s.a.createElement("span",null,"Your order has been received! Payment completion pending."),a="success";break;case"failed":t=s.a.createElement("span",null,"The payment was refused. Please try a different payment method or card."),a="failed";break;case"error":t=s.a.createElement("span",null,"Error! Reason: ",r||"Internal error",", refer to\xa0",s.a.createElement("a",{href:"https://docs.adyen.com/development-resources/response-handling"},"Response handling.")),a="failed";break;default:t=s.a.createElement("span",null,"Your order has been successfully placed."),a="success"}return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"/images/".concat(a,".svg"),className:"status-image",alt:a}),["failed","error"].includes(n)?null:s.a.createElement("img",{src:"/images/thank-you.svg",className:"status-image",alt:"thank-you"}),s.a.createElement("p",{className:"status-message"},t))};function H(){var e=Object(c.g)().type,t=new URLSearchParams(Object(c.f)().search),a=t?t.get("reason"):"";return s.a.createElement("div",{className:"status-container"},s.a.createElement("div",{className:"status"},s.a.createElement(J,{type:e,reason:a}),s.a.createElement(i.b,{to:"/",className:"button"},"Return Home")))}a(53);var I=function(){return s.a.createElement(i.a,null,s.a.createElement(c.c,null,s.a.createElement(c.a,{path:"/preview/:type"},s.a.createElement(T,null)),s.a.createElement(c.a,{path:"/checkout/:type"},s.a.createElement(S,null)),s.a.createElement(c.a,{path:"/status/:type"},s.a.createElement(H,null)),s.a.createElement(c.a,{path:"/"},s.a.createElement("div",{className:"main-container"},s.a.createElement("ul",{className:"integration-list"},s.a.createElement("li",{className:"integration-list-item"},s.a.createElement(i.b,{to:"/preview/dropin",className:"integration-list-item-link"},s.a.createElement("div",{className:"title-container"},s.a.createElement("p",{className:"integration-list-item-title"},"Premium Acocunt")))))))))},L=Object(O.a)({reducer:{payment:A}});a(54);l.a.render(s.a.createElement(b.a,{store:L},s.a.createElement(I,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.780e10df.chunk.js.map